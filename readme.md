# avito

# Схема сервиса
![Схема](github.com/antonvlasov/avito/master/avito_diagram.png)

# Описание работы
 Запущенный сервис ждет запросов на подписку и отправляет запросы обработчику, который вносит эти подписки в базу данных, а каждые каждые 10 минут получает новую цену объявлений, на которые существует подписка,при изменении отправляет информацию по указанным адресам и обновляет базу данных. 
# Требования для запуска
* sqlite
* Запущенный mitmproxy с адресом 127.0.0.1:8080
* gcc

Для запуска скачать репозиторий, выполнить go build из его корневой директории, запустить файл main.exe. 
# Подписка
Для подписки необходимо выполнить GET запрос вида http://localhost:5000/api/subscribe?url=<item_url>&email=<mail>
